<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promesas</title>
</head>

<body>

    <script>
        const miPromesa = new Promise( ( resolve, reject ) => {
            setTimeout( () => {
                let nota = Math.random() * 15
                if ( nota >= 0 && nota < 5 ) {
                    resolve( 'la promesa se resuelve, el alumno esta suspenso ' + nota )
                } else if ( nota >= 5 && nota < 10 ) {
                    resolve( 'La promesa se resuelve, el alumno esta aprobado ' + nota )
                } else {
                    reject( 'la promesa me da error, el numero no es valido ' + nota )
                }
            }, 5000 )
        } )

        //La consumicion de la promesa es como se usa una vez construida. Una promesa tiene dos metodos de consumicion
        //then() que gestiona el resolve
        //catch() que gestiona el reject

        miPromesa
            .then( ( mensaje ) => { console.log( mensaje ) } )
            .catch( ( error ) => { console.log( error ) } )
        //catch nos permite resolver el error gestionandolo, por lo que no me congela la aplicacion

        console.log( 'algo que tiene que cargarse despues de la promesa' )
    </script>
</body>

</html>